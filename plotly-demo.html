<!DOCTYPE html>
<html lang="en">
<html>
<head><script src='https://cdn.plot.ly/plotly-2.9.0.min.js'></script></head>
<body>

<div id="testing"></div>

<div id="formDiv">
    <form id="form">
        <label><i>x</i> values</label>
        <div style="font-size:50%">separated by commas</div>
        <textarea id="x" name="x">Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec</textarea>
        <br><br>
        <label><i>y</i> values</label>
        <div style="font-size:50%">separated by commas</div>
        <textarea id="y" name="y">12, 18, 23, 19, 21, 25, 22, 18, 15, 23, 19, 21</textarea>
        <br><br>
        <label><i>x</i> title</label>
        <br>
        <input id="xtitle" name="xtitle" type="text" value="x">
        <br><br>
        <label><i>y</i> title</label>
        <br>
        <input id="ytitle" name="ytitle" type="text" value="y">
        <br><br>
        <label>Chart Title</label>
        <br>
        <input id="title" name="title" type="text" value="y vs. x">
        <br><br>
        <label>Chart Type</label>
        <br>
        <select id="chartType" name="chartType">
            <option value="scatter">scatter</option>
            <option value="bar">bar</option>
            <option value="line">line</option>
            <option value="pie">pie</option>
            <option value="box">box</option>
            <option value="histogram">histogram</option>
            <option value="heatmap">heatmap</option>
            <option value="surface">surface</option>
            <option value="contour">contour</option>
        </select>
        <br><br>

        <br><br>
        <input type="submit" value="Submit">
   </form>
</div>
<div id="chartDiv"></div>

<script>
var element = document.getElementById("form");
element.addEventListener("submit", function(event) {
    event.preventDefault();
    var x_values = document.getElementById("x").value;//.replace(/,\s/g, ',');
    var y_values = document.getElementById("y").value;//.replace(/,\s/g, ',');
    var x_title = document.getElementById("xtitle").value;
    var y_title = document.getElementById("ytitle").value;
    var title_value = document.getElementById("title").value;
    var chart_type = document.getElementById("chartType").value;
    //document.getElementById("testing").innerText = x_values+y_values;

    var data1 = {
    x: x_values.split(","),
    y: y_values.split(","),
    //name: 'Precipitation',
    type: chart_type,
    //marker: {color: 'blue'}
    };

    var layout = {
        title: title_value,
        xaxis: {title: x_title},
        yaxis: {title: y_title}
    };

    Plotly.newPlot('chartDiv', [data1], layout);
}, true);



</script>
</body>
</html>